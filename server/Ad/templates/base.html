<!DOCTYPE html>
<html lang="ru">
<head>
    {% block script-chat %}
  
    {% endblock %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}AdNews{% endblock %}</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    {% load static %}
    <style>
        /* –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è –∑–≤–µ–∑–¥–Ω–æ–≥–æ —Ñ–æ–Ω–∞ –ø—Ä—è–º–æ –≤ base.html */
        html {
            height: 100%;
        }
        
        .star-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }
        
        .stars,
        .stars1,
        .stars2 {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        .stars {
            background: transparent url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU2IiBoZWlnaHQ9IjI1NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMzIgMTZhMSAxIDAgMSAwIDAgMiAxIDEgMCAwIDAgMC0yem00NCAxMDhhMiAyIDAgMSAwIDAtNCAxIDEgMCAwIDAgMCA0eiIvPjwvc3ZnPg==') repeat;
            background-size: 256px 256px;
            animation: animStar 100s linear infinite;
        }
        
        .stars1 {
            background: transparent url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNODIgMzRhMiAyIDAgMSAwIDAgNCAxIDEgMCAwIDAgMC00em0yODQgMTk4YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnoiLz48L3N2Zz4=') repeat;
            background-size: 512px 512px;
            animation: animStar 125s linear infinite;
        }
        
        .stars2 {
            background: transparent url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0yNDQgMTA2YTMgMyAwIDEgMCAwIDYgMyAzIDAgMCAwIDAtNnptNTU2IDQ2OGE0IDQgMCAxIDAgMC04IDQgNCAwIDAgMCAwIDh6Ii8+PC9zdmc+') repeat;
            background-size: 1024px 1024px;
            animation: animStar 175s linear infinite;
        }
        
        @keyframes animStar {
            0% {
                background-position: 0 0;
            }
            100% {
                background-position: -2560px 2560px;
            }
        }
        
        .shooting-star {
            position: absolute;
            width: 3px;
            height: 80px;
            background: linear-gradient(to bottom, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%);
            border-top-left-radius: 50%;
            border-top-right-radius: 50%;
            animation: shootingStar 5s linear infinite;
            transform: rotate(45deg);
            opacity: 0;
        }
        
        @keyframes shootingStar {
            0% {
                transform: translate(calc(100vw * var(--x, 0)), calc(100vh * var(--y, 0))) rotate(45deg);
                opacity: 0;
                height: 5px;
            }
            1% {
                opacity: 1;
            }
            5% {
                opacity: 1;
                transform: translate(calc(100vw * var(--x, 0) - 100px), calc(100vh * var(--y, 0) + 100px)) rotate(45deg);
                height: 30px;
            }
            10% {
                opacity: 0;
                height: 80px;
                transform: translate(calc(100vw * var(--x, 0) - 200px), calc(100vh * var(--y, 0) + 200px)) rotate(45deg);
            }
            100% {
                opacity: 0;
                transform: translate(calc(100vw * var(--x, 0) - 200px), calc(100vh * var(--y, 0) + 200px)) rotate(45deg);
            }
        }
    
        *, *::before, *::after {
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(to bottom, #010105 0%, #150f38 100%);
            color: #231c5c;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            max-width: 100%;
            overflow-x: hidden;
            transition: all 0.3s ease;
        }

        /* –§–æ–Ω—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–µ–º */
        body.theme-default {
            background: linear-gradient(to bottom, #010105 0%, #150f38 100%);
        }
        
        body.theme-cosmic {
            background: linear-gradient(to bottom, #010105 0%, #150f38 100%);
        }
        
        body.theme-rainy {
            background: linear-gradient(to bottom, #0a0a0a 0%, #232323 50%, #353535 100%);
            background-attachment: fixed;
            background-size: cover;
            position: relative;
        }

        body.theme-rainy::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="300" height="300" viewBox="0 0 300 300"><rect width="100%" height="100%" fill="none"/><path d="M30 40 L35 45 M60 30 L65 35 M80 70 L85 75 M120 60 L125 65 M150 90 L155 95 M190 30 L195 35 M220 70 L225 75 M260 90 L265 95" stroke="rgba(150, 150, 150, 0.1)" stroke-width="1"/></svg>');
            opacity: 0.3;
            pointer-events: none;
            z-index: -1;
        }

        .container {
            display: flex;
            flex-direction: column;
            flex: 1;
            padding: 0;
            gap: 0;
            box-sizing: border-box;
            width: 100%;
            margin: 0 auto;
            max-width: 100%;
            height: 100vh;
            min-height: 100vh;
            justify-content: space-between;
            overflow: hidden;
        }

        .header, .footer {
            background-color: white;
            text-align: center;
            font-size: 1.5rem;
            padding: 10px;
            border-radius: 10px;
            margin: 10px 20px;
        }

        .footer {
            width: calc(100% - 40px);
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 20px auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-sizing: border-box;
            position: relative;
            z-index: 10; /* –ü–æ–≤—ã—à–µ–Ω–Ω—ã–π z-index –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–≤–µ—Ä—Ö —Ñ–æ–Ω–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
            overflow: hidden;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –¥–æ–∂–¥–ª–∏–≤–æ–π —Ç–µ–º—ã –≤ footer */
        body.rainy-theme .footer {
            background: rgba(60, 60, 60, 0.15);
            backdrop-filter: blur(5px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(80, 80, 80, 0.2);
        }

        .wrap {
            flex: 1;
            overflow: hidden;
            margin-right: 20px;
            padding: 10px 0;
            position: relative;
        }

        .items-wrap {
            width: 100%;
            overflow: hidden;
            position: relative;
            mask-image: linear-gradient(to right, transparent, black 5%, black 95%, transparent);
            -webkit-mask-image: linear-gradient(to right, transparent, black 5%, black 95%, transparent);
        }

        .items {
            display: flex;
            white-space: nowrap;
            animation: scroll 4s linear infinite;
            will-change: transform;
            transform: translateZ(0);
        }

        .items-content {
            display: flex;
            flex-shrink: 0;
            gap: 20px;
            padding: 0 10px;
            animation: none;
        }

        .item {
            padding: 8px 20px;
            background: white;
            color: #231c5c;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            flex-shrink: 0;
            will-change: transform;
            transform: translateZ(0);
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –¥–æ–∂–¥–ª–∏–≤–æ–π —Ç–µ–º—ã –≤ —ç–ª–µ–º–µ–Ω—Ç–∞—Ö –∫—É—Ä—Å–∞ –≤–∞–ª—é—Ç */
        body.rainy-theme .item {
            background: rgba(60, 60, 60, 0.3);
            color: #cccccc;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(80, 80, 80, 0.25);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }

        .item:hover {
            transform: scale(1.1);
            background: #231c5c;
            color: white;
            box-shadow: 0 0 15px rgba(35, 28, 92, 0.3);
            z-index: 1;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –¥–æ–∂–¥–ª–∏–≤–æ–π —Ç–µ–º—ã –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã –∫—É—Ä—Å–∞ –≤–∞–ª—é—Ç */
        body.rainy-theme .item:hover {
            background: rgba(70, 70, 70, 0.5);
            color: #ffffff;
            box-shadow: 0 0 15px rgba(70, 70, 70, 0.6);
        }

        @keyframes scroll {
            from { transform: translateX(0); }
            to { transform: translateX(-100%); }
        }

        .current-date {
            font-size: 1.2rem;
            color: white;
            padding: 5px 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            min-width: 150px;
            text-align: center;
            display: flex;
            flex-direction: column;
            gap: 2px;
            margin-left: 20px;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –¥–æ–∂–¥–ª–∏–≤–æ–π —Ç–µ–º—ã –≤ –±–ª–æ–∫–µ —Å –¥–∞—Ç–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º */
        body.rainy-theme .current-date {
            background: rgba(60, 60, 60, 0.3);
            color: #cccccc;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(80, 80, 80, 0.25);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }

        .current-time {
            font-size: 1.4rem;
            font-weight: bold;
        }

        .current-date-text {
            font-size: 1rem;
        }
        
        /* –£–¥–∞–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è –¥–æ–∂–¥—è
        .footer-raindrop, .footer-splash, .footer-stream {
            display: none;
        }
        
        @keyframes footerRainFalling, @keyframes footerSplash {
            0%, 100% {}
        } */

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: bold;
            font-size: 2rem;
            margin-bottom: 40px;
            width: calc(100% - 40px);
            background: rgba(255, 255, 255, 0.9);
            padding: 15px 20px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            position: relative;
            z-index: 10;
            color: #231c5c;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è header –≤ –¥–æ–∂–¥–ª–∏–≤–æ–π —Ç–µ–º–µ */
        body.rainy-theme .header {
            background: rgba(40, 40, 40, 0.35);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(70, 70, 70, 0.25);
            backdrop-filter: blur(5px);
            color: #d8d8d8;
        }

        /* –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è –ª–µ–≤–æ–π –∏ –ø—Ä–∞–≤–æ–π —Å–µ–∫—Ü–∏–π –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
        .header span {
            flex: 1;  /* –î–∞–µ–º —Å–µ–∫—Ü–∏—è–º –æ–¥–∏–Ω–∞–∫–æ–≤—É—é —à–∏—Ä–∏–Ω—É */
            text-align: left;  /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Ç–µ–∫—Å—Ç –ø–æ –ª–µ–≤–æ–º—É –∫—Ä–∞—é */
            color: inherit;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }

        .header span:last-child {
            text-align: right;  /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–µ–º RTUMIREA –ø–æ –ø—Ä–∞–≤–æ–º—É –∫—Ä–∞—é */
        }

        .rtumirea-container {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            flex: 1;
            gap: 10px;
        }
        
        .theme-toggle {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 18px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            background: linear-gradient(135deg, #3b1b78, #1a237e); /* –î–µ—Ñ–æ–ª—Ç–Ω—ã–π —Å—Ç–∏–ª—å */
            color: white;
        }
        
        body.theme-default .theme-toggle {
            background: linear-gradient(135deg, #283593, #1a237e);
        }
        
        body.theme-cosmic .theme-toggle {
            background: linear-gradient(135deg, #3b1b78, #1a237e);
        }
        
        body.theme-rainy .theme-toggle {
            background: linear-gradient(135deg, #191919, #2a2a2a);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.6);
        }
        
        .theme-toggle:hover {
            transform: scale(1.1);
        }

        .nav-menu {
            flex: 2;  /* –î–∞–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–º—É –º–µ–Ω—é –±–æ–ª—å—à–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ */
            display: flex;
            justify-content: center;  /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –º–µ–Ω—é */
            gap: 20px;
        }

        .nav-link {
            color: #231c5c;
            text-decoration: none;
            padding: 8px 15px;
            border-radius: 8px;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.8);
            font-size: 1.2rem;
        }

        .nav-link:hover {
            background: #231c5c;
            color: white;
            transform: translateY(-2px);
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –¥–æ–∂–¥–ª–∏–≤–æ–π —Ç–µ–º—ã –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å—Å—ã–ª–∫–∞—Ö */
        body.rainy-theme .nav-link {
            background: rgba(60, 60, 60, 0.3);
            color: #cccccc;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(80, 80, 80, 0.25);
        }

        body.rainy-theme .nav-link:hover {
            background: rgba(70, 70, 70, 0.5);
            color: #ffffff;
            box-shadow: 0 0 15px rgba(70, 70, 70, 0.6);
        }

        .content {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 0;
            min-height: 0;
            position: relative;
            box-sizing: border-box;
            overflow: auto;
            max-height: calc(100vh - 200px);
        }

        .auth-container {
            background-color: white;
            padding: 30px;
            border-radius: 20px;
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
        }

        .auth-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .form-group label {
            font-weight: bold;
        }

        .form-group input {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }

        .form-submit {
            padding: 10px 20px;
            background-color: #231c5c;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .form-submit:hover {
            background-color: #1a1461;
        }

        .messages {
            margin-bottom: 20px;
        }

        .message {
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
        }

        .message-error {
            background-color: #ffebee;
            color: #c62828;
        }

        .message-success {
            background-color: #e8f5e9;
            color: #2e7d32;
        }
    </style>
    {% block style %}{% endblock %}
    <style>
        /* –°—Ç–∏–ª–∏ –¥–ª—è –≤—Å–ø–ª—ã–≤–∞—é—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π */
        .currency-tooltip {
            position: fixed;
            background: rgba(35, 28, 92, 0.95);
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 1rem;
            z-index: 1000;
            max-width: 250px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.3s, transform 0.3s;   
            text-align: center;
            pointer-events: none;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –≤—Å–ø–ª—ã–≤–∞—é—â–∏—Ö –æ–∫–æ–Ω –≤ –¥–æ–∂–¥–ª–∏–≤–æ–º —Å—Ç–∏–ª–µ */
        body.rainy-theme .currency-tooltip {
            background: rgba(40, 40, 40, 0.9);
            color: #d8d8d8;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(70, 70, 70, 0.3);
            backdrop-filter: blur(5px);
        }

        .currency-tooltip.show {
            opacity: 1;
            transform: translateY(0);
        }

        .item {
            animation: none;
        }

        .item.clicked {
            animation: jumpAnimation 0.6s cubic-bezier(0.36, 0, 0.66, -0.56) forwards;
        }

        @keyframes jumpAnimation {
            0% { 
                transform: translateY(0) scale(1);
            }
            25% { 
                transform: translateY(-15px) scale(1.1);
            }
            50% { 
                transform: translateY(-5px) scale(1.05);
            }
            75% { 
                transform: translateY(-8px) scale(1.08);
            }
            100% { 
                transform: translateY(0) scale(1);
            }
        }

        .cbr-tooltip {
            position: absolute;
            background: rgba(35, 28, 92, 0.95);
            color: white;
            padding: 15px 20px;
            border-radius: 12px;
            font-size: 1.1rem;
            z-index: 1000;
            max-width: 300px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.3);
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.3s, transform 0.3s;
            text-align: center;
            pointer-events: none;
            left: 50%;
            top: 120%;
            transform: translateX(-50%);
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è cbr-tooltip –≤ –¥–æ–∂–¥–ª–∏–≤–æ–º —Å—Ç–∏–ª–µ */
        body.rainy-theme .cbr-tooltip {
            background: rgba(40, 40, 40, 0.9);
            color: #d8d8d8;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(70, 70, 70, 0.3);
            backdrop-filter: blur(5px);
        }

        .cbr-tooltip.show {
            opacity: 1;
            transform: translate(-50%, 0);
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∏–Ω—Ñ–æ-–∑–∞–≥–æ–ª–æ–≤–∫–∞ (–∫–∞–∫ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏) */
        .currency-info-header {
            position: fixed;
            background: rgba(35, 28, 92, 0.95);
            color: white;
            padding: 12px 20px;
            border-radius: 12px;
            font-size: 1rem;
            z-index: 1000;
            max-width: 300px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            gap: 10px;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∏–Ω—Ñ–æ-–∑–∞–≥–æ–ª–æ–≤–∫–∞ –≤ –¥–æ–∂–¥–ª–∏–≤–æ–º —Å—Ç–∏–ª–µ */
        body.rainy-theme .currency-info-header {
            background: rgba(40, 40, 40, 0.9);
            color: #d8d8d8;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(70, 70, 70, 0.3);
            backdrop-filter: blur(7px);
        }
        
        .currency-info-header.show {
            opacity: 1;
        }
        
        .currency-info-header .icon {
            font-size: 1.2rem;
            animation: pulse 1.5s infinite ease-in-out;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .qr-section {
            position: relative;
            cursor: pointer;
            padding: 5px;
            background: transparent;
            border-radius: 4px;
            transition: all 0.3s ease;
            margin-right: 70px;
            transform: scale(1.0);
            margin-top: 40px;  
        }
        
        .qr-section:hover {
            background: transparent;
            transform: scale(1.0);
        }

        .qr-section span {
            color: white;
            font-size: 1.8rem;
            font-weight: bold;
        }

        /* –ù–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Ñ–æ–Ω–∞ —Å –∫—Ä—É–≥–∞–º–∏ –¥–ª—è —Å–µ—Ä–æ–π —Ç–µ–º—ã */
        body.theme-rainy .circles-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }
        
        body.theme-rainy .circles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        
        body.theme-rainy .circles li {
            position: absolute;
            display: block;
            list-style: none;
            width: 20px;
            height: 20px;
            background: rgba(180, 180, 180, 0.15);
            animation: animate-circle 25s linear infinite;
            bottom: -150px;
        }
        
        body.theme-rainy .circles li:nth-child(1) {
            left: 25%;
            width: 80px;
            height: 80px;
            animation-delay: 0s;
        }
        
        body.theme-rainy .circles li:nth-child(2) {
            left: 10%;
            width: 20px;
            height: 20px;
            animation-delay: 2s;
            animation-duration: 12s;
        }
        
        body.theme-rainy .circles li:nth-child(3) {
            left: 70%;
            width: 20px;
            height: 20px;
            animation-delay: 4s;
        }
        
        body.theme-rainy .circles li:nth-child(4) {
            left: 40%;
            width: 60px;
            height: 60px;
            animation-delay: 0s;
            animation-duration: 18s;
        }
        
        body.theme-rainy .circles li:nth-child(5) {
            left: 65%;
            width: 20px;
            height: 20px;
            animation-delay: 0s;
        }
        
        body.theme-rainy .circles li:nth-child(6) {
            left: 75%;
            width: 110px;
            height: 110px;
            animation-delay: 3s;
        }
        
        body.theme-rainy .circles li:nth-child(7) {
            left: 35%;
            width: 150px;
            height: 150px;
            animation-delay: 7s;
        }
        
        body.theme-rainy .circles li:nth-child(8) {
            left: 50%;
            width: 25px;
            height: 25px;
            animation-delay: 15s;
            animation-duration: 45s;
        }
        
        body.theme-rainy .circles li:nth-child(9) {
            left: 20%;
            width: 15px;
            height: 15px;
            animation-delay: 2s;
            animation-duration: 35s;
        }
        
        body.theme-rainy .circles li:nth-child(10) {
            left: 85%;
            width: 150px;
            height: 150px;
            animation-delay: 0s;
            animation-duration: 11s;
        }
        
        @keyframes animate-circle {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 0.5;
                border-radius: 0;
            }
            
            100% {
                transform: translateY(-1000px) rotate(720deg);
                opacity: 0;
                border-radius: 50%;
            }
        }
    </style>
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- –ó–≤–µ–∑–¥–Ω—ã–π —Ñ–æ–Ω -->
    <div class="star-container">
        <div class="stars"></div>
        <div class="stars1"></div>
        <div class="stars2"></div>
        <div id="shooting-stars-container"></div>
    </div>
    
    <div class="container">
        <div class="header">
            <span>–û—Ä–±–∏—Ç–∞ –ù–æ–≤–æ—Å—Ç–µ–π</span>
            <div class="nav-menu">
                <a href="{% url 'main' %}" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="{% url 'currency_charts' %}" class="nav-link">–ö—É—Ä—Å—ã –≤–∞–ª—é—Ç</a>
                <a href="{% url 'weather' %}" class="nav-link">–ü–æ–≥–æ–¥–∞</a>
                {% if user.is_authenticated %}
                    <a href="{% url 'profile' %}" class="nav-link">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
                    <a href="{% url 'logout' %}" class="nav-link">–í—ã—Ö–æ–¥</a>
                {% else %}
                    <a href="{% url 'login' %}" class="nav-link">–í—Ö–æ–¥</a>
                    <a href="{% url 'register' %}" class="nav-link">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
                {% endif %}
            </div>
            <div class="rtumirea-container">
                <span>RTUMIREA</span>
                <div class="theme-toggle" id="theme-toggle">
                    <i>‚ö™Ô∏è</i>
                </div>
            </div>
        </div>

        <div class="content">
            {% if messages %}
                <div class="messages">
                    {% for message in messages %}
                        <div class="message {% if message.tags %}message-{{ message.tags }}{% endif %}">
                            {{ message }}
                        </div>
                    {% endfor %}
                </div>
            {% endif %}

            {% block content %}{% endblock %}
            
            <!-- –î–æ–±–∞–≤–ª—è–µ–º HTML —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –∫—Ä—É–≥–æ–≤ –≤ —Å–µ—Ä–æ–π —Ç–µ–º–µ -->
            <div class="circles-container" style="display: none;">
                <ul class="circles">
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                </ul>
            </div>
        </div>

        <div class="footer">
            <div class="wrap">
                <div class="items-wrap">
                    <div class="items">
                        <div class="items-content">
                            {% for currency in currency_rates %}
                                <div class="item">
                                    {% if currency.currency_name == "BTC" or currency.currency_name == "ETH" %}
                                        {{ currency.currency_name }} {{ currency.rate }}$
                                    {% else %}
                                        {{ currency.symbol }} {{ currency.rate }}‚ÇΩ
                                    {% endif %}
                                </div>
                            {% endfor %}
                        </div>
                        <div class="items-content">
                            {% for currency in currency_rates %}
                                <div class="item">
                                    {% if currency.currency_name == "BTC" or currency.currency_name == "ETH" %}
                                        {{ currency.currency_name }} {{ currency.rate }}$
                                    {% else %}
                                        {{ currency.symbol }} {{ currency.rate }}‚ÇΩ
                                    {% endif %}
                                </div>
                            {% endfor %}
                        </div>
                        <div class="items-content">
                            {% for currency in currency_rates %}
                                <div class="item">
                                    {% if currency.currency_name == "BTC" or currency.currency_name == "ETH" %}
                                        {{ currency.currency_name }} {{ currency.rate }}$
                                    {% else %}
                                        {{ currency.symbol }} {{ currency.rate }}‚ÇΩ
                                    {% endif %}
                                </div>
                            {% endfor %}
                        </div>
                        <div class="items-content">
                            {% for currency in currency_rates %}
                                <div class="item">
                                    {% if currency.currency_name == "BTC" or currency.currency_name == "ETH" %}
                                        {{ currency.currency_name }} {{ currency.rate }}$
                                    {% else %}
                                        {{ currency.symbol }} {{ currency.rate }}‚ÇΩ
                                    {% endif %}
                                </div>
                            {% endfor %}
                        </div>
                        <div class="items-content">
                            {% for currency in currency_rates %}
                                <div class="item">
                                    {% if currency.currency_name == "BTC" or currency.currency_name == "ETH" %}
                                        {{ currency.currency_name }} {{ currency.rate }}$
                                    {% else %}
                                        {{ currency.symbol }} {{ currency.rate }}‚ÇΩ
                                    {% endif %}
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
            <div class="current-date">-- : --</div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const items = document.querySelector('.items');
            
            function setupScroll() {
                const itemsContent = document.querySelector('.items-content');
                const scrollWidth = itemsContent.offsetWidth;
                const duration = Math.max(scrollWidth / 200, 2);
                
                // –í—ã—á–∏—Å–ª—è–µ–º —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
                const totalWidth = scrollWidth * 5; // 5 –∫–æ–ø–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç–∞
                const cycleTime = duration * 5; // –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –¥–ª—è –≤—Å–µ—Ö –∫–æ–ø–∏–π
                
                // –ü–ª–∞–≤–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â—É—é –∞–Ω–∏–º–∞—Ü–∏—é
                items.style.animation = 'none';
                items.offsetHeight;
                
                // –ó–∞–ø—É—Å–∫–∞–µ–º –Ω–æ–≤—É—é –∞–Ω–∏–º–∞—Ü–∏—é
                requestAnimationFrame(() => {
                    items.style.animation = `scroll ${cycleTime}s linear infinite`;
                });

                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞–≤–Ω—ã–π –≤—Ä–µ–º–µ–Ω–∏ –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
                clearInterval(window.scrollInterval);
                window.scrollInterval = setInterval(() => {
                    if (!document.hidden) {
                        items.style.animation = 'none';
                        items.offsetHeight;
                        requestAnimationFrame(() => {
                            items.style.animation = `scroll ${cycleTime}s linear infinite`;
                        });
                    }
                }, cycleTime * 1300);
            }

            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞—á–∞–ª—å–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏
            setupScroll();

            // –ü–µ—Ä–µ–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞ —Å debounce
            let resizeTimer;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimer);
                resizeTimer = setTimeout(setupScroll, 150);
            });

            // –ü—Ä–∏ —É—Ö–æ–¥–µ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—á–∏—â–∞–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª
            document.addEventListener('visibilitychange', () => {
                if (document.hidden) {
                    clearInterval(window.scrollInterval);
                } else {
                    setupScroll();
                }
            });

            // –û—á–∏—â–∞–µ–º —Å—Ç–∞—Ä—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
            window.addEventListener('beforeunload', () => {
                clearInterval(window.scrollInterval);
            });

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
            const updateTime = () => {
                const now = new Date();
                const time = now.toLocaleTimeString('ru-RU', {
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit',
                    hour12: false
                });
                const date = now.toLocaleDateString('ru-RU', {
                    day: '2-digit',
                    month: '2-digit',
                    year: 'numeric'
                });
                
                const dateContainer = document.querySelector('.current-date');
                dateContainer.innerHTML = `
                    <div class="current-time">${time}</div>
                    <div class="current-date-text">${date}</div>
                `;
            };

            updateTime();
            setInterval(updateTime, 1000);
        });

        // –î–æ–±–∞–≤–ª—è–µ–º —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞–¥–∞—é—â–∏—Ö –∑–≤–µ–∑–¥
        document.addEventListener('DOMContentLoaded', () => {
            const shootingStarsContainer = document.getElementById('shooting-stars-container');
            const numberOfStars = 10;
            
            // –°–æ–∑–¥–∞–µ–º –ø–∞–¥–∞—é—â–∏–µ –∑–≤–µ–∑–¥—ã
            for (let i = 0; i < numberOfStars; i++) {
                createShootingStar(shootingStarsContainer, i);
            }
            
            function createShootingStar(container, index) {
                const star = document.createElement('div');
                star.className = 'shooting-star';
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é –Ω–∞—á–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é
                const xPos = Math.random();
                const yPos = Math.random() * 0.5; // –¢–æ–ª—å–∫–æ –≤ –≤–µ—Ä—Ö–Ω–µ–π –ø–æ–ª–æ–≤–∏–Ω–µ —ç–∫—Ä–∞–Ω–∞
                
                star.style.setProperty('--x', xPos);
                star.style.setProperty('--y', yPos);
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é –∑–∞–¥–µ—Ä–∂–∫—É –¥–ª—è –Ω–∞—á–∞–ª–∞ –∞–Ω–∏–º–∞—Ü–∏–∏
                star.style.animationDelay = `${Math.random() * 20}s`;
                
                container.appendChild(star);
            }
        });

        // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—ä–µ–∫—Ç currencyFacts –∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –≤—Ä–µ–º—è –ø–æ–∫–∞–∑–∞ —Ç—É–ª—Ç–∏–ø–∞
        const currencyFacts = {
            'USD': [
                'üíµ –ü–µ—Ä–≤—ã–π –¥–æ–ª–ª–∞—Ä –°–®–ê –±—ã–ª –æ—Ç—á–µ–∫–∞–Ω–µ–Ω –≤ 1794 –≥–æ–¥—É',
                'üèõÔ∏è –§–µ–¥–µ—Ä–∞–ª—å–Ω–∞—è —Ä–µ–∑–µ—Ä–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –°–®–ê –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞ –≤ 1913 –≥–æ–¥—É',
                'üåç –î–æ–ª–ª–∞—Ä —Å—Ç–∞–ª –º–∏—Ä–æ–≤–æ–π —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –≤–∞–ª—é—Ç–æ–π –ø–æ—Å–ª–µ –ë—Ä–µ—Ç—Ç–æ–Ω-–í—É–¥—Å–∫–æ–π –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ 1944 –≥–æ–¥–∞',
                'üè¶ 85% –≤—Å–µ—Ö –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø—Ä–æ–≤–æ–¥—è—Ç—Å—è –≤ –¥–æ–ª–ª–∞—Ä–∞—Ö',
                'üìà –î–æ–ª–ª–∞—Ä —è–≤–ª—è–µ—Ç—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –≤–∞–ª—é—Ç–æ–π –≤ –±–æ–ª–µ–µ —á–µ–º 10 —Å—Ç—Ä–∞–Ω–∞—Ö –º–∏—Ä–∞',
                'üí± –°–∏–º–≤–æ–ª $ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—Ç –∏—Å–ø–∞–Ω—Å–∫–æ–≥–æ –ø–µ—Å–æ, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –±—É–∫–≤—ã PS',
                'üèÜ –°–∞–º–∞—è –∫—Ä—É–ø–Ω–∞—è –∫—É–ø—é—Ä–∞ –¥–æ–ª–ª–∞—Ä–∞ - 100 000$, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å —Ç–æ–ª—å–∫–æ –º–µ–∂–¥—É –±–∞–Ω–∫–∞–º–∏',
                'üîç –ù–∞ –æ–¥–Ω–æ–¥–æ–ª–ª–∞—Ä–æ–≤–æ–π –∫—É–ø—é—Ä–µ –µ—Å—Ç—å 7 —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ —Å–µ—Ä–∏–∏',
                'üìú –°—Ä–æ–∫ —Å–ª—É–∂–±—ã –±—É–º–∞–∂–Ω–æ–π –¥–æ–ª–ª–∞—Ä–æ–≤–æ–π –∫—É–ø—é—Ä—ã —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–∫–æ–ª–æ 18 –º–µ—Å—è—Ü–µ–≤',
                'üé® –ó–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç –¥–æ–ª–ª–∞—Ä–æ–≤ –±—ã–ª –≤—ã–±—Ä–∞–Ω –∏–∑-–∑–∞ –µ–≥–æ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –∫ —Ö–∏–º–∏—á–µ—Å–∫–æ–º—É –∏ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º—É –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—é',
                'üè∞ –§–æ—Ä—Ç –ù–æ–∫—Å —Ö—Ä–∞–Ω–∏—Ç –∑–æ–ª–æ—Ç–æ–π –∑–∞–ø–∞—Å –°–®–ê —Å—Ç–æ–∏–º–æ—Å—Ç—å—é –±–æ–ª–µ–µ 290 –º–∏–ª–ª–∏–∞—Ä–¥–æ–≤ –¥–æ–ª–ª–∞—Ä–æ–≤',
                'üñ®Ô∏è –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –ø–µ—á–∞—Ç–∞–µ—Ç—Å—è –æ–∫–æ–ª–æ 38 –º–∏–ª–ª–∏–æ–Ω–æ–≤ –¥–æ–ª–ª–∞—Ä–æ–≤—ã—Ö –±–∞–Ω–∫–Ω–æ—Ç'
            ],
            'EUR': [
                'üá™üá∫ –ï–≤—Ä–æ –±—ã–ª –≤–≤–µ–¥–µ–Ω –≤ –±–µ–∑–Ω–∞–ª–∏—á–Ω–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ 1 —è–Ω–≤–∞—Ä—è 1999 –≥–æ–¥–∞',
                'üí∂ –ù–∞–ª–∏—á–Ω—ã–µ –µ–≤—Ä–æ –ø–æ—è–≤–∏–ª–∏—Å—å –≤ –æ–±—Ä–∞—â–µ–Ω–∏–∏ 1 —è–Ω–≤–∞—Ä—è 2002 –≥–æ–¥–∞',
                'üåç –ï–≤—Ä–æ —è–≤–ª—è–µ—Ç—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –≤–∞–ª—é—Ç–æ–π –≤ 20 —Å—Ç—Ä–∞–Ω–∞—Ö –ï–≤—Ä–æ–ø–µ–π—Å–∫–æ–≥–æ —Å–æ—é–∑–∞',
                'üè¶ –ï–≤—Ä–æ–ø–µ–π—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –±–∞–Ω–∫ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–æ –§—Ä–∞–Ω–∫—Ñ—É—Ä—Ç–µ-–Ω–∞-–ú–∞–π–Ω–µ',
                'üé® –î–∏–∑–∞–π–Ω –±–∞–Ω–∫–Ω–æ—Ç –µ–≤—Ä–æ —Å–∏–º–≤–æ–ª–∏–∑–∏—Ä—É–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Å—Ç–∏–ª–∏ —Ä–∞–∑–Ω—ã—Ö —ç–ø–æ—Ö',
                'üîí –ï–≤—Ä–æ –∏–º–µ–µ—Ç –±–æ–ª–µ–µ 8 —Å—Ç–µ–ø–µ–Ω–µ–π –∑–∞—â–∏—Ç—ã –æ—Ç –ø–æ–¥–¥–µ–ª–∫–∏',
                'üí± –ï–≤—Ä–æ - –≤—Ç–æ—Ä–∞—è –ø–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –≤–∞–ª—é—Ç–∞ –≤ –º–∏—Ä–µ –ø–æ—Å–ª–µ –¥–æ–ª–ª–∞—Ä–∞',
                'üèõÔ∏è –ù–∞ –∫—É–ø—é—Ä–∞—Ö –µ–≤—Ä–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω—ã –≤—ã–º—ã—à–ª–µ–Ω–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Å–æ–æ—Ä—É–∂–µ–Ω–∏—è',
                'üìä –û–∫–æ–ª–æ 30% –º–∏—Ä–æ–≤—ã—Ö –≤–∞–ª—é—Ç–Ω—ã—Ö —Ä–µ–∑–µ—Ä–≤–æ–≤ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –µ–≤—Ä–æ',
                'üåê –ï–≤—Ä–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ 150 –º–∏–ª–ª–∏–æ–Ω–∞—Ö –ø–ª–∞—Ç–µ–∂–µ–π –µ–∂–µ–¥–Ω–µ–≤–Ω–æ',
                'üèÜ –°–∞–º–∞—è –∫—Ä—É–ø–Ω–∞—è –∫—É–ø—é—Ä–∞ –µ–≤—Ä–æ - 500‚Ç¨, –Ω–æ –µ—ë –≤—ã–ø—É—Å–∫ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω –≤ 2019 –≥–æ–¥—É',
                'üìà 40% –º–∏—Ä–æ–≤–æ–≥–æ –¥–æ–ª–≥–∞ –Ω–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–æ –≤ –µ–≤—Ä–æ'
            ],
            'CNY': [
                'üá®üá≥ –Æ–∞–Ω—å —Å—Ç–∞–ª –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –≤–∞–ª—é—Ç–æ–π –ö–∏—Ç–∞—è –≤ 1949 –≥–æ–¥—É',
                'üìà –ö–∏—Ç–∞–π —è–≤–ª—è–µ—Ç—Å—è –∫—Ä—É–ø–Ω–µ–π—à–∏–º —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–æ–º –≤ –º–∏—Ä–µ —Å 2009 –≥–æ–¥–∞',
                'üè¶ –ù–∞—Ä–æ–¥–Ω—ã–π –±–∞–Ω–∫ –ö–∏—Ç–∞—è - –æ–¥–∏–Ω –∏–∑ –∫—Ä—É–ø–Ω–µ–π—à–∏—Ö –¥–µ—Ä–∂–∞—Ç–µ–ª–µ–π –∑–æ–ª–æ—Ç–∞ –≤ –º–∏—Ä–µ',
                'üíπ –Æ–∞–Ω—å –≤—Ö–æ–¥–∏—Ç –≤ –∫–æ—Ä–∑–∏–Ω—É —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–∞–≤ –∑–∞–∏–º—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ú–í–§ —Å 2016 –≥–æ–¥–∞',
                'üåê –ö–∏—Ç–∞–π —Å–æ–∑–¥–∞–ª —Å–∏—Å—Ç–µ–º—É CIPS –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É SWIFT –¥–ª—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤',
                'üì± –ö–∏—Ç–∞–π –ª–∏–¥–∏—Ä—É–µ—Ç –≤ —Ä–∞–∑–≤–∏—Ç–∏–∏ —Ü–∏—Ñ—Ä–æ–≤–æ–π –≤–∞–ª—é—Ç—ã —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –±–∞–Ω–∫–∞',
                'üèóÔ∏è –Æ–∞–Ω—å –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ "–û–¥–∏–Ω –ø–æ—è—Å - –æ–¥–∏–Ω –ø—É—Ç—å"',
                'üí∞ –ö–∏—Ç–∞–π –∏–º–µ–µ—Ç –∫—Ä—É–ø–Ω–µ–π—à–∏–µ –≤ –º–∏—Ä–µ –≤–∞–ª—é—Ç–Ω—ã–µ —Ä–µ–∑–µ—Ä–≤—ã',
                'üè¶ –° 2005 –≥–æ–¥–∞ –∫—É—Ä—Å —é–∞–Ω—è –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –∫–æ—Ä–∑–∏–Ω–µ –≤–∞–ª—é—Ç',
                'üìä –Æ–∞–Ω—å –≤—Ö–æ–¥–∏—Ç –≤ —Ç–æ–ø-5 –Ω–∞–∏–±–æ–ª–µ–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤–∞–ª—é—Ç –≤ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö —Ä–∞—Å—á–µ—Ç–∞—Ö',
                'üèõÔ∏è –ò—Å—Ç–æ—Ä–∏—è –∫–∏—Ç–∞–π—Å–∫–∏—Ö –±—É–º–∞–∂–Ω—ã—Ö –¥–µ–Ω–µ–≥ –Ω–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç –±–æ–ª–µ–µ 1000 –ª–µ—Ç',
                'üåç –Æ–∞–Ω—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤—Å–µ –±–æ–ª–µ–µ –ø–æ–ø—É–ª—è—Ä–Ω–æ–π –≤–∞–ª—é—Ç–æ–π –≤ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–µ'
            ],
            'BTC': [
                'üíª –ë–∏—Ç–∫–æ–∏–Ω –±—ã–ª —Å–æ–∑–¥–∞–Ω –≤ 2009 –≥–æ–¥—É —á–µ–ª–æ–≤–µ–∫–æ–º –ø–æ–¥ –ø—Å–µ–≤–¥–æ–Ω–∏–º–æ–º –°–∞—Ç–æ—à–∏ –ù–∞–∫–∞–º–æ—Ç–æ',
                'üîí –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏—Ç–∫–æ–∏–Ω–æ–≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ 21 –º–∏–ª–ª–∏–æ–Ω–æ–º',
                'üìà –ü–µ—Ä–≤–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –±–∏—Ç–∫–æ–∏–Ω–∞: –ø–æ–∫—É–ø–∫–∞ –¥–≤—É—Ö –ø–∏—Ü—Ü –∑–∞ 10,000 BTC',
                '‚õèÔ∏è –ö–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –±–ª–æ–∫ –≤ –±–ª–æ–∫—á–µ–π–Ω–µ –±–∏—Ç–∫–æ–∏–Ω–∞',
                'üè¶ –ë–æ–ª–µ–µ 100 —Å—Ç—Ä–∞–Ω –ø—Ä–∏–∑–Ω–∞—é—Ç –±–∏—Ç–∫–æ–∏–Ω –ª–µ–≥–∞–ª—å–Ω—ã–º –ø–ª–∞—Ç–µ–∂–Ω—ã–º —Å—Ä–µ–¥—Å—Ç–≤–æ–º',
                'üíΩ –†–∞–∑–º–µ—Ä –±–ª–æ–∫—á–µ–π–Ω–∞ –±–∏—Ç–∫–æ–∏–Ω–∞ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 400 –≥–∏–≥–∞–±–∞–π—Ç',
                'üîê –û–∫–æ–ª–æ 20% –≤—Å–µ—Ö –±–∏—Ç–∫–æ–∏–Ω–æ–≤ —Å—á–∏—Ç–∞—é—Ç—Å—è —É—Ç–µ—Ä—è–Ω–Ω—ã–º–∏ –Ω–∞–≤—Å–µ–≥–¥–∞',
                '‚ö° Lightning Network –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≤–æ–¥–∏—Ç—å –º–∏–ª–ª–∏–æ–Ω—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ —Å–µ–∫—É–Ω–¥—É',
                'üåç –ë–∏—Ç–∫–æ–∏–Ω –ª–µ–≥–∞–ª–µ–Ω –∫–∞–∫ –ø–ª–∞—Ç–µ–∂–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ –≤ –°–∞–ª—å–≤–∞–¥–æ—Ä–µ –∏ –¶–ê–†',
                'üìä –ü–µ—Ä–≤—ã–π –±–∏—Ç–∫–æ–∏–Ω-ETF –±—ã–ª –∑–∞–ø—É—â–µ–Ω –≤ 2021 –≥–æ–¥—É',
                'üè≠ –ù–∞ –º–∞–π–Ω–∏–Ω–≥ –±–∏—Ç–∫–æ–∏–Ω–∞ —Ç—Ä–∞—Ç–∏—Ç—Å—è –±–æ–ª—å—à–µ —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏–∏, —á–µ–º –ø–æ—Ç—Ä–µ–±–ª—è—é—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å—Ç—Ä–∞–Ω—ã',
                'üí± –ë–∏—Ç–∫–æ–∏–Ω —Ç–æ—Ä–≥—É–µ—Ç—Å—è –Ω–∞ –±–æ–ª–µ–µ —á–µ–º 400 –±–∏—Ä–∂–∞—Ö –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É'
            ],
            'ETH': [
                'üîß Ethereum –±—ã–ª —Å–æ–∑–¥–∞–Ω –í–∏—Ç–∞–ª–∏–∫–æ–º –ë—É—Ç–µ—Ä–∏–Ω—ã–º –≤ 2015 –≥–æ–¥—É',
                'üåê –ù–∞ Ethereum —Ä–∞–±–æ—Ç–∞–µ—Ç –±–æ–ª–µ–µ 80% –≤—Å–µ—Ö DeFi –ø—Ä–æ–µ–∫—Ç–æ–≤',
                'üîÑ –í 2022 –≥–æ–¥—É Ethereum –ø–µ—Ä–µ—à–µ–ª –Ω–∞ proof-of-stake, —Å–Ω–∏–∑–∏–≤ —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –Ω–∞ 99.95%',
                'üìä –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ —Å–µ—Ç–∏ Ethereum –ø—Ä–æ–≤–æ–¥–∏—Ç—Å—è –±–æ–ª–µ–µ –º–∏–ª–ª–∏–æ–Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π',
                'üé® –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ NFT —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–∞ –±–ª–æ–∫—á–µ–π–Ω–µ Ethereum',
                'üí∞ –û–±—ä–µ–º –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –≤ DeFi –Ω–∞ Ethereum –ø—Ä–µ–≤—ã—à–∞–µ—Ç 50 –º–∏–ª–ª–∏–∞—Ä–¥–æ–≤ –¥–æ–ª–ª–∞—Ä–æ–≤',
                'üèóÔ∏è Ethereum 2.0 —Å–ø–æ—Å–æ–±–µ–Ω –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–æ 100,000 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ —Å–µ–∫—É–Ω–¥—É',
                'üîê –ë–æ–ª–µ–µ 500,000 –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–µ—Ç–∏',
                'üì± –°—É—â–µ—Å—Ç–≤—É–µ—Ç –±–æ–ª–µ–µ 3000 –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ Ethereum',
                'üåç Ethereum –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∫—Ä—É–ø–Ω–µ–π—à–∏–º–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º–∏ –∫–æ–º–ø–∞–Ω–∏—è–º–∏',
                'üíª –Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è Solidity –±—ã–ª —Å–æ–∑–¥–∞–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è Ethereum'
            ]
        };

        document.addEventListener('DOMContentLoaded', () => {
            const items = document.querySelectorAll('.item');
            let tooltip = document.createElement('div');
            tooltip.className = 'currency-tooltip';
            document.body.appendChild(tooltip);

            items.forEach(item => {
                item.addEventListener('click', function(e) {
                    // –£–¥–∞–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∏ –∫–ª–∞—Å—Å –∞–Ω–∏–º–∞—Ü–∏–∏ —É –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
                    items.forEach(i => {
                        i.classList.remove('active', 'clicked');
                    });
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å—ã —Ç–µ–∫—É—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
                    this.classList.add('active');
                    this.classList.add('clicked');
                    
                    // –£–¥–∞–ª—è–µ–º –∫–ª–∞—Å—Å –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –µ—ë –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
                    setTimeout(() => {
                        this.classList.remove('clicked');
                    }, 600);

                    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –≤–∞–ª—é—Ç—É –∏–∑ —Ç–µ–∫—Å—Ç–∞ —ç–ª–µ–º–µ–Ω—Ç–∞
                    const currencyText = this.textContent.trim();
                    
                    let currency = null;

                    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –≤–∞–ª—é—Ç—É –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ñ–æ—Ä–º–∞—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
                    if (currencyText.includes('BTC')) currency = 'BTC';
                    else if (currencyText.includes('ETH')) currency = 'ETH';
                    else if (currencyText.includes('$')) currency = 'USD';
                    else if (currencyText.includes('‚Ç¨')) currency = 'EUR';
                    else if (currencyText.includes('¬•')) currency = 'CNY';
                    
                    if (currency) {
                        const facts = currencyFacts[currency];
                        const randomFact = facts[Math.floor(Math.random() * facts.length)];
                        
                        tooltip.textContent = randomFact;
                        tooltip.classList.add('show');
                        
                        // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º —Ç—É–ª—Ç–∏–ø –Ω–∞–¥ —ç–ª–µ–º–µ–Ω—Ç–æ–º —Å —É—á–µ—Ç–æ–º –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
                        const rect = this.getBoundingClientRect();
                        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                        
                        tooltip.style.left = Math.max(10, Math.min(
                            rect.left + (rect.width / 2) - (tooltip.offsetWidth / 2),
                            window.innerWidth - tooltip.offsetWidth - 10
                        )) + 'px';
                        tooltip.style.top = Math.max(10, rect.top + scrollTop - tooltip.offsetHeight - 10) + 'px';
                        
                        // –°–∫—Ä—ã–≤–∞–µ–º —Ç—É–ª—Ç–∏–ø —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
                        setTimeout(() => {
                            tooltip.classList.remove('show');
                        }, 5000);
                    }
                });

                // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏—è
                item.addEventListener('mouseenter', function() {
                    if (!this.classList.contains('clicked')) {
                        this.style.transform = 'translateY(-2px) scale(1.05)';
                    }
                });

                item.addEventListener('mouseleave', function() {
                    if (!this.classList.contains('clicked')) {
                        this.style.transform = 'translateY(0) scale(1)';
                        this.classList.remove('active');
                    }
                });
            });

            // –°–∫—Ä—ã–≤–∞–µ–º —Ç—É–ª—Ç–∏–ø –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.item')) {
                    tooltip.classList.remove('show');
                    items.forEach(item => {
                        item.classList.remove('active', 'clicked');
                        item.style.transform = 'translateY(0) scale(1)';
                    });
                }
            });
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –≤ —Ö–µ–¥–µ—Ä–µ
        document.addEventListener('DOMContentLoaded', function() {
            // –°–æ–∑–¥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ –¥–ª—è –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –æ —Å–º–µ–Ω–µ —Ç–µ–º—ã
            const themeChangeEvent = new CustomEvent('themeChanged', {
                bubbles: true,
                detail: { theme: '' }
            });
            
            // –§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ç–µ–º—ã, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –∏–∑ –ª—é–±–æ–≥–æ –º–µ—Å—Ç–∞
            window.applyTheme = function(theme) {
                console.log('Global applyTheme –≤—ã–∑–≤–∞–Ω —Å —Ç–µ–º–æ–π:', theme);
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Ç–µ–º—ã
                if (!['default', 'cosmic', 'rainy'].includes(theme)) {
                    console.error('–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç —Ç–µ–º—ã:', theme);
                    theme = 'default';
                }
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é —Ç–µ–º—É –≤ localStorage
                localStorage.setItem('theme', theme);
                
                // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ç–µ–º—É –∫ body
                document.body.className = '';  // –û—á–∏—â–∞–µ–º –≤—Å–µ –∫–ª–∞—Å—Å—ã
                document.body.classList.add('theme-' + theme);
                
                // –î–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å main.html
                if (theme === 'cosmic') {
                    document.body.classList.add('cosmic-theme');
                } else if (theme === 'rainy') {
                    document.body.classList.add('rainy-theme');
                }
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–∑ main.html
                try {
                    const rainyBackground = document.getElementById('rainy-background');
                    const enhancedStars = document.getElementById('enhanced-stars');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å —Ñ–æ–Ω–æ–≤, –µ—Å–ª–∏ –æ–Ω–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç
                    if (enhancedStars && rainyBackground) {
                        console.log('–û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ç–µ–º—ã –≤ main.html');
                        
                        if (theme === 'cosmic' || theme === 'default') {
                            enhancedStars.style.display = 'block';
                            rainyBackground.style.display = 'none';
                            
                            // –£–¥–∞–ª—è–µ–º –≤—Å–µ –∫–∞–ø–ª–∏ –¥–æ–∂–¥—è
                            const allDrops = document.querySelectorAll('.raindrop, .flowing-drop');
                            allDrops.forEach(drop => {
                                if (drop.parentNode) drop.parentNode.removeChild(drop);
                            });
                        } else if (theme === 'rainy') {
                            enhancedStars.style.display = 'none';
                            rainyBackground.style.display = 'block';
                        }
                    } else {
                        console.log('–°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ç–µ–º—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ');
                    }
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤:', error);
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –¥–µ—Ç–∞–ª–∏ —Å–æ–±—ã—Ç–∏—è
                themeChangeEvent.detail.theme = theme;
                
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–æ–±—ã—Ç–∏–µ —Å–º–µ–Ω—ã —Ç–µ–º—ã
                document.dispatchEvent(themeChangeEvent);
                
                console.log('–¢–µ–º–∞ —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞:', theme);
            };
            
            // –ù–∞–π—Ç–∏ –∫–Ω–æ–ø–∫—É –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã –≤ —Ö–µ–¥–µ—Ä–µ
            const headerThemeToggle = document.querySelector('.theme-toggle');
            
            // –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞, –µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –Ω–∞–π–¥–µ–Ω
            if (headerThemeToggle) {
                headerThemeToggle.addEventListener('click', function() {
                    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ç–µ–º–∞–º–∏
                    const currentTheme = localStorage.getItem('theme') || 'default';
                    let nextTheme;
                    
                    // –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–ª–µ–¥—É—é—â—É—é —Ç–µ–º—É
                    if (currentTheme === 'default') {
                        nextTheme = 'cosmic';
                    } else if (currentTheme === 'cosmic') {
                        nextTheme = 'rainy';
                    } else {
                        nextTheme = 'default';
                    }
                    
                    // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–ª–µ–¥—É—é—â—É—é —Ç–µ–º—É —á–µ—Ä–µ–∑ –æ–±—â—É—é —Ñ—É–Ω–∫—Ü–∏—é
                    window.applyTheme(nextTheme);
                });
            }
            
            // –°–ª—É—à–∞—Ç–µ–ª—å —Å–æ–±—ã—Ç–∏—è –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
            document.addEventListener('themeChanged', function(e) {
                console.log('–°–æ–±—ã—Ç–∏–µ —Å–º–µ–Ω—ã —Ç–µ–º—ã –ø–æ–ª—É—á–µ–Ω–æ, –Ω–æ–≤–∞—è —Ç–µ–º–∞:', e.detail.theme);
            });
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é —Ç–µ–º—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            const savedTheme = localStorage.getItem('theme') || 'default';
            window.applyTheme(savedTheme);
            
            // –¢–∞–∫–∂–µ –¥–æ–±–∞–≤–ª—è–µ–º —Å–ª—É—à–∞—Ç–µ–ª—å —Å–æ–±—ã—Ç–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏
            window.addEventListener('storage', function(e) {
                if (e.key === 'theme') {
                    console.log('–¢–µ–º–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ –≤ –¥—Ä—É–≥–æ–π –≤–∫–ª–∞–¥–∫–µ:', e.newValue);
                    window.applyTheme(e.newValue);
                }
            });
        });

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∏ –¥–∞—Ç—ã –≤ –ø–æ–¥–≤–∞–ª–µ —Å–∞–π—Ç–∞
        function updateTime() {
            const now = new Date();
            const timeElement = document.querySelector('.current-time');
            const dateElement = document.querySelector('.current-date-text');
            
            if (timeElement && dateElement) {
                // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
                const hours = String(now.getHours()).padStart(2, '0');
                const minutes = String(now.getMinutes()).padStart(2, '0');
                const seconds = String(now.getSeconds()).padStart(2, '0');
                timeElement.textContent = `${hours}:${minutes}:${seconds}`;
                
                // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã
                const day = String(now.getDate()).padStart(2, '0');
                const month = String(now.getMonth() + 1).padStart(2, '0');
                const year = now.getFullYear();
                dateElement.textContent = `${day}.${month}.${year}`;
            }
        }
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Ä–µ–º—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
        setInterval(updateTime, 1000);
        updateTime(); // –ù–∞—á–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
        
        // –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–¥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫—Ä—É–≥–æ–≤
        document.addEventListener('DOMContentLoaded', function() {
            // –ù–∞—Ö–æ–¥–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –∫—Ä—É–≥–∞–º–∏ –∏ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è —Å–º–µ–Ω—ã —Ç–µ–º—ã
            const circlesContainer = document.querySelector('.circles-container');
            const themeToggle = document.querySelector('.theme-toggle');
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–º–µ–Ω—ã —Ç–µ–º—ã
            function handleThemeChange() {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ —Å–µ—Ä–∞—è —Ç–µ–º–∞
                if (document.body.classList.contains('theme-rainy')) {
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –∫—Ä—É–≥–∞–º–∏
                    if (circlesContainer) {
                        circlesContainer.style.display = 'block';
                    }
                } else {
                    // –°–∫—Ä—ã–≤–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –∫—Ä—É–≥–∞–º–∏
                    if (circlesContainer) {
                        circlesContainer.style.display = 'none';
                    }
                }
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            handleThemeChange();
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å –∫–ª–∞—Å—Å–æ–º theme-option 
            const themeOptions = document.querySelectorAll('.theme-option');
            if (themeOptions.length > 0) {
                themeOptions.forEach(option => {
                    option.addEventListener('click', function() {
                        // –ö–æ–≥–¥–∞ —Ç–µ–º–∞ –º–µ–Ω—è–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
                        setTimeout(handleThemeChange, 100);
                    });
                });
            }
            
            // –ï—Å–ª–∏ –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã, –¥–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
            if (themeToggle) {
                themeToggle.addEventListener('click', function() {
                    // –ö–æ–≥–¥–∞ —Ç–µ–º–∞ –º–µ–Ω—è–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
                    setTimeout(handleThemeChange, 100);
                });
            }
        });
    </script>
    {% block script %}{% endblock %}
</body>
</html> 
